---
title: "Requirements and Proofs"
description: "Detailed specification of DAIA protocol requirements and their corresponding proofs."
summary: ""
date: 2024-01-05T11:00:00+00:00
lastmod: 2024-01-05T11:00:00+00:00
draft: false
weight: 300
toc: true
seo:
  title: "DAIA Requirements and Proofs" # custom title (optional)
  description: "Complete reference for requirement types and proof formats in DAIA" # custom description (recommended)
  canonical: "" # custom canonical URL (optional)
  noindex: false # false (default) or true
---

{{< callout context="note" title="Practical Examples" icon="outline/code" >}}
See [Requirements and Proofs Examples]({{< ref "/docs/example/requirements-and-proofs" >}}) for practical code examples.
{{< /callout >}}

DAIA agreements are formed through requirements and proofs. Requirements define conditions that must be met, and proofs provide evidence of fulfillment. Each requirement must have exactly one corresponding proof with a matching UUID. Proofs are automatically generated by `DaiaOfferSigner`.

## Signature Requirements

Digital signatures prove identity and acceptance. All offers must have at least one signature requirement.

{{< callout context="note" title="Self-Signed Offers" icon="outline/info-circle" >}}
All offers should be self-signed. This proves the offer came from the stated creator and prevents tampering. An offer without a self-signed requirement should be considered suspicious.
{{< /callout >}}

### Self-Signed

The offer creator signs their own offer to prove authenticity and prevent tampering. Add with `DaiaOfferBuilder.addSelfSignedRequirement()`.

**When to use:**
- Always - required for all valid offers
- Proves the offer came from the stated creator
- Signature covers entire offer content

### Remote Signature

Request a signature from another party's public key to prove acceptance. Add with `DaiaOfferBuilder.addSignRequirement()`.

**When to use:**
- To confirm another party accepts the offer terms
- To require explicit consent from specific parties
- To create multi-party agreements

Signatures include nonces to prevent replay attacks and signature reuse across different offers.

## Payment Requirements

Request payment to a BSV blockchain address (mainnet or testnet).

### Self-Authenticated Payment

Payment is included as an output in the same transaction that contains the agreement. Add with `DaiaOfferBuilder.addSelfAuthenticatedPaymentRequirement()`.

**When to use:**
- For atomic payment and agreement in single transaction
- When immediate payment is required
- To minimize transaction fees and complexity

### Remote Payment

Payment is made in a separate blockchain transaction referenced by its transaction ID. Add with `DaiaOfferBuilder.addRemotePaymentRequirement()`.

**When to use:**
- When payment should occur before or after agreement
- When payment and agreement need separate timing

**Payment Nonce:**
Each remote payment has an optional nonce (auto-generated if not provided) that binds a specific payment transaction to the offer, preventing transaction reuse.

## Agreement Reference Requirements

Reference another on-chain agreement by its blockchain transaction ID. Add with `DaiaOfferBuilder.addAgreementReferenceByTxId()`.

**When to use:**
- To link related agreements (renewals, amendments)
- To require prerequisite agreements
- To build multi-stage workflows

**Reference Type:**
Optional application-specific string to categorize the relationship (e.g., "RENEWAL", "AMENDMENT", "PREREQUISITE").

The verifier recursively validates referenced agreements and detects circular references.

## Verification

An agreement is valid if and only if all requirements have valid corresponding proofs. Each requirement must have exactly one proof with a matching UUID, and each proof must satisfy its requirement's conditions.

See [Offers and Agreements]({{< ref "offers-and-agreements" >}}) for more details on agreement structure and validity.


